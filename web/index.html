<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>QueryLab</title>
    <link rel="icon" type="image/png" href="static/images/luna64.png">

    <link rel="stylesheet" href="static/spectre.min.css" type="text/css">
    <link rel="stylesheet" href="static/spectre-icons.min.css" type="text/css">
    <link rel="stylesheet" href="static/spectre-exp.min.css" type="text/css">
    <link rel="stylesheet" href="static/vis.min.css" type="text/css">
    <link rel="stylesheet" href="static/fontawesome-all.min.css" type="text/css">
    <link rel="stylesheet" href="static/app.css" type="text/css">
</head>
<body>
<header class="navbar bg-dark text-light">
    <section class="navbar-section">
        <span class="navbar-brand mr-2 ml-2"><img src="static/images/luna512.png"></span>
        <span class="navbar-brand" style="line-height: 32px">QueryLab</span>
    </section>
    <section class="navbar-section"></section>
</header>
<div id="loading"><img src="static/images/luna512.png" class="spinner"
                       style="display:block;margin-left: auto;margin-right: auto">
</div>
<div id="vue" class="container columns col-gapless p-0">
    <div class="column col-2 bg-gray flex-container">
        <file v-bind:file="file" v-on:load="addTab"></file>
    </div>
    <div class="column col-5 flex-container">
        <ul class="tab">
            <li class="tab-item">
                <button class="btn btn-action" v-on:click="newTab"><i class="icon icon-plus"></i></button>
            </li>
            <tab v-for="e in editing" :key="e.id" v-bind:name="e.name" v-on:close="closeTab" v-on:load="loadTab"></tab>
        </ul>
        <editor editor-id="query" :content="input" v-on:change-content="updateInput"></editor>
    </div>
    <div class="column col-5 flex-container">
        <div class="result">
        </div>
    </div>
</div>

<script type="text/x-template" id="file">
    <div v-if="file.type==0">
        <div class="accordion overflow-scroll">
            <input type="checkbox" v-bind:id="id" name="accordion-checkbox" hidden v-bind:checked="id == 0"
                   title="file.name">
            <label class="accordion-header" v-bind:for="id"><i class="far fa-folder"></i> [[file.name]]</label>
            <div class="accordion-body">
                <ul class="menu menu-nav overflow-scroll">
                    <file v-for="f in file.files" :key="f.name" v-bind:file="f"></file>
                </ul>
            </div>
        </div>
    </div>
    <div v-else-if="file.type==1">
        <li class="menu-item">
            <a href="#" v-on:click="load"><i class="far fa-file-alt"></i> [[file.name]]</a>
        </li>
    </div>
</script>


<script type="text/javascript" src="static/vue.js"></script>
<script type="text/javascript" src="static/ace.js"></script>
<script type="text/javascript" src="static/worker-json.js"></script>
<script type="text/javascript" src="static/mode-json.js"></script>
<script type="text/javascript" src="static/lodash.min.js"></script>
<script type="text/javascript" src="static/shortcut.min.js"></script>
<script type="text/javascript" src="static/app.js"></script>
</body>
</html>